{"pageProps":{"metaData":{"title":"Git-Workflow","description":"解决开发之后需要做的事，打包上线","tags":["Git"],"keywords":["Git"],"id":"gitworkflow","create":1682416219022,"lastUpdate":1687689226481},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    code: \"code\",\n    pre: \"pre\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h1, {\n      children: \"Git Workflow\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"解决开发之后需要做的事，打包上线\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"在项目根目录添加 .github/workflows/integrate.yml\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"真的是气死个人，这段yml是cv来的，别人就能正常运行，但是我拿过来就报错。首先就是报错NextJS包里有\", _jsx(_components.code, {\n        children: \"appKey??**\"\n      }), \",\\n一开始我看到这个还以为是这个包里有ES6语法，编译出问题。就用babel.config配置去编译node_modules，我也不知道编译对了没有总之没有生效，想来是错了\\n后来我用windows的node环境试了一下这个语法发现node是可以用的，于是我猜测会不会是workflows的node版本过低，升级了版本就好了。。。。\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-yml:.github/workflows/integrate.yml\",\n        children: \"name: Build and Deploy\\non: \\n  push:\\n    branches:\\n      - blog-next\\njobs:\\n  build-and-deploy:\\n    # 虚拟机环境 ubuntu-latest，ubuntu-18.04或ubuntu-16.04\\n    # windows-latest，windows-2019或windows-2016\\n    # macOS-latest或macOS-10.14\\n    runs-on: ubuntu-latest\\n    steps:\\n      - name: Checkout\\n        uses: actions/checkout@v2.3.1\\n        with:\\n          persist-credentials: false\\n\\n      - name: Cache\\n        uses: actions/cache@v2\\n        with:\\n          path: ${{ github.workspace }}/.next/cache\\n          key: ${{ runner.os }}-nextjs-${{ hashFiles('**/package-lock.json') }}\\n\\n      - name: Install and Build\\n        uses: actions/setup-node@v3\\n        with:\\n          node-version: 16\\n      - run: npm install\\n      - run: npm run transMD\\n      - run: npm run build\\n      - run: npm run export\\n        env:\\n            CI: true\\n      - run: touch out/.nojekyll\\n\\n      - name: Deploy\\n        uses: JamesIves/github-pages-deploy-action@3.7.1\\n        with:\\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\\n          BRANCH: lj-pages\\n          FOLDER: out # The folder the action should deploy.\\n          CLEAN: true # Automatically remove deleted files from the deploy branch\\n\"\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true}