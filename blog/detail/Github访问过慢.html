<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>(*^▽^*)</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/80a95484ea2876e6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/80a95484ea2876e6.css" data-n-g=""/><link rel="preload" href="/_next/static/css/f8f6338530cfd437.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f8f6338530cfd437.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-7477d36a73a3487c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-d15f243f6b85624f.js" defer=""></script><script src="/_next/static/chunks/171-0943d13a71220321.js" defer=""></script><script src="/_next/static/chunks/pages/blog/detail/%5Bid%5D-0499978da9bd8e44.js" defer=""></script><script src="/_next/static/HP81LP17NPlwa6Lp7DH3o/_buildManifest.js" defer=""></script><script src="/_next/static/HP81LP17NPlwa6Lp7DH3o/_ssgManifest.js" defer=""></script><style id="__jsx-1471609662">.file-name-container.jsx-1471609662{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;width:100%;max-width:100%;background-color:#1d2b35d9;padding:-webkit-calc(.5rem + .2vw);padding:-moz-calc(.5rem + .2vw);padding:calc(.5rem + .2vw);-webkit-border-top-left-radius:5px;-moz-border-radius-topleft:5px;border-top-left-radius:5px;-webkit-border-top-right-radius:5px;-moz-border-radius-topright:5px;border-top-right-radius:5px;margin-top:1vh;white-space:pre-wrap;word-wrap:break-word;overflow-wrap:break-word}.file-name.jsx-1471609662{font-family:"Share Tech Mono",monospace;font-size:-webkit-calc(.9rem + .1vw);font-size:-moz-calc(.9rem + .1vw);font-size:calc(.9rem + .1vw);color:#fffecbf2}</style></head><body><div id="__next"><div class="layout_main-container__jR90l"><main class="layout_main__E22hH"><div style="width:15em"><nav class="sidebar_nav__EFmKd"><div class="Avatar_container__egCID"><div class="Avatar_image-container__9WrGh"><img src="/images/avatar.png" alt="mingjianglong" class="Avatar_avatar__oORu6"/><h2>龙江</h2><h3 style="font-weight:normal;padding-top:.6em;color:grey">Jiang Long</h3><h4 style="padding-top:1.3em">等风也等你~</h4><span class="Avatar_my-face__hbhE_">ღゝ◡╹)ノ♡</span></div><div></div></div><a style="color:black" href="/">开心☺</a><a style="color:black" href="/blog">Blog</a><a style="color:black" href="/archive">归档</a><a style="color:black" href="/resume">简介</a></nav></div><div style="flex:1;height:100vh;display:flex;flex-direction:column;overflow-y:hidden"><div style="height:100%;padding:7em;overflow:scroll"><h1 style="font-family:&#x27;Ubuntu&#x27;, sans-serif;font-size:calc(1rem + 1.5vw);color:#1d2b35;padding:1em 0;overflow-wrap:break-word">Github访问失败(缓慢)解决</h1>
<p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Github访问失败(缓慢)解决</p>
<h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;padding:.6em 0;overflow-wrap:break-word">背景</h3>
<p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">下载electron的时候报错:RequestError: connect ETIMEDOUT 20.205.243.166:443</p>
<h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;padding:.6em 0;overflow-wrap:break-word">排查问题</h3>
<p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">搜索引擎搜索了一下<span class="SyntaxHighlighter_key-words__9bKIe">20.205.243.166</span>,好像是涉及github。</p>
<p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">使用<span class="SyntaxHighlighter_key-words__9bKIe">cmd</span>查询了一下该ip,本机github最终解析为该ip <span class="SyntaxHighlighter_key-words__9bKIe">nslookup 20.205.243.166</span></p>
<p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word"><img alt="nslookup结果" src="/md-images/nslookupgithub.png" style="width:100%;height:auto"/></p>
<p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word"><span class="SyntaxHighlighter_key-words__9bKIe">cmd</span> ping了一下该ip也不能ping通(然后换dns，114啊，阿里免费dns也不可以,换了代理也不行。其实可能行了，我是用浏览器验验证的，最开始没考虑到浏览器dns缓存)</p>
<h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;padding:.6em 0;overflow-wrap:break-word">解决办法</h3>
<p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">既然dns服务商解析的ip我们这里不能ping通，那就把github的dns映射固定一个可以ping通的ip,绕过dns服务解析。</p>
<ol style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013e6;margin:1vh 0 1vh calc(2vw);overflow-wrap:break-word">
<li>
<p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">找一个可以用的ip</p>
<p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">使用<a style="color:#071013;text-decoration:none;cursor:pointer;border-bottom:1px dashed #fb232e;font-size:calc(1rem + 0.1vw);font-weight:bold;overflow-wrap:break-word" target="_blank" rel="noreferrer" href="https://ping.chinaz.com/">多个站点ping</a>工具，查询可用ip</p>
</li>
<li>
<p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">修改本机hosts文件</p>
<p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">hosts文件位置在<span class="SyntaxHighlighter_key-words__9bKIe">c盘/windows/system32/driver/etc/hosts</span>,在末尾添加对应映射就行了。需要注意的是，保存文件的时候要保存为ansic编码，不要用utf-8。(可以先ansic另存为<span class="SyntaxHighlighter_key-words__9bKIe">hosts.txt</span>,然后再把<span class="SyntaxHighlighter_key-words__9bKIe">.txt</span>后缀去掉就行了).</p>
<pre><div class="jsx-1471609662"><div class="jsx-1471609662 file-name-container"><p class="jsx-1471609662 file-name">hosts文件内容</p></div><pre class="language-txt:hosts文件内容" style="color:#1d2b35;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0px;overflow:auto;background:#1e1e1e;background-color:#071013f2;padding-bottom:1em;margin-bottom:1vh;border-bottom-left-radius:5px;border-bottom-right-radius:5px"><code class="language-txt" style="color:#d4d4d4;font-size:calc(0.8rem + 0.1vw);text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>  # github 这四个常变化 建议不要选美国的ip
</span>  20.248.137.48 github.com
<!-- -->  20.248.137.55 nodeload.github.com
<!-- -->  20.248.137.49 api.github.com
<!-- -->  20.248.137.55 codeload.github.com
<!-- -->
<!-- -->  185.199.108.133 raw.github.com
<!-- -->  185.199.108.153 training.github.com
<!-- -->  185.199.108.153 assets-cdn.github.com
<!-- -->  185.199.108.153 documentcloud.github.com
<!-- -->  140.82.114.17 help.github.com
<!-- -->
<!-- -->  # domain: githubstatus.com
<!-- -->  185.199.108.153 githubstatus.com
<!-- -->
<!-- -->  # domain: fastly.net
<!-- -->  151.101.1.194 github.global.ssl.fastly.net
<!-- -->
<!-- -->  # domain: githubusercontent.com
<!-- -->  185.199.108.133 raw.githubusercontent.com
<!-- -->  185.199.108.154 pkg-containers.githubusercontent.com
<!-- -->  185.199.108.133 cloud.githubusercontent.com
<!-- -->  185.199.108.133 gist.githubusercontent.com
<!-- -->  185.199.108.133 marketplace-screenshots.githubusercontent.com
<!-- -->  185.199.108.133 repository-images.githubusercontent.com
<!-- -->  185.199.108.133 user-images.githubusercontent.com
<!-- -->  185.199.108.133 desktop.githubusercontent.com
<!-- -->  185.199.108.133 avatars.githubusercontent.com
<!-- -->  185.199.108.133 avatars0.githubusercontent.com
<!-- -->  185.199.108.133 avatars1.githubusercontent.com
<!-- -->  185.199.108.133 avatars2.githubusercontent.com
<!-- -->  185.199.108.133 avatars3.githubusercontent.com
<!-- -->  185.199.108.133 avatars4.githubusercontent.com
<!-- -->  185.199.108.133 avatars5.githubusercontent.com
<!-- -->  185.199.108.133 avatars6.githubusercontent.com
<!-- -->  185.199.108.133 avatars7.githubusercontent.com
<!-- -->  185.199.108.133 avatars8.githubusercontent.com
<!-- -->
</code></pre></div></pre>
</li>
<li>
<p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">刷新一下本地dns 然后就大功告成了，可以正常访问github了。最后你可能会发现浏览器还是不能访问到github,那是因为浏览器的dns缓存,清理一下或者重新开一个无痕就解决了。</p>
</li>
</ol>
<h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;padding:.6em 0;overflow-wrap:break-word">注意事项</h3>
<p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">这里需要查询到和github相关的域名一并修改其对应ip,不然会出现能访问github，但是不能clone的情况。</p>
<p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">最开始我只修改了github对应的ip,然后浏览器也确实可以正常访问github了，但是当我clone项目时，连接还是超时并且npm下载依赖时会还是会报错<span class="SyntaxHighlighter_key-words__9bKIe">20.205.243.166</span>(修改前的ip)连接超时,但是我明明修改了ip,也生效了。所以原因就是clone是另外的域名指向了原来的ip。</p>
<p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">可能会用到的命令</p>
<ul style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013e6;margin:1vh 0 1vh calc(2vw);overflow-wrap:break-word">
<li>ipconfig 查看本机ip信息</li>
<li>ipconfig/flushdns 刷新dns</li>
<li>nslookup github.com 查看dns解析的网址ip</li>
<li>ipconfig/displaydns  查看本机dns映射缓存</li>
</ul></div></div></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"metaData":{"title":"Github访问过慢解决","description":"git常用命令记录，主要是容易忘","tags":["Git"],"keywords":["Git"],"lastUpdate":1705650397286,"id":"Github访问过慢","create":1705631674774},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    h3: \"h3\",\n    code: \"code\",\n    img: \"img\",\n    ol: \"ol\",\n    li: \"li\",\n    a: \"a\",\n    pre: \"pre\",\n    ul: \"ul\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h1, {\n      children: \"Github访问失败(缓慢)解决\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Github访问失败(缓慢)解决\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"背景\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"下载electron的时候报错:RequestError: connect ETIMEDOUT 20.205.243.166:443\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"排查问题\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"搜索引擎搜索了一下\", _jsx(_components.code, {\n        children: \"20.205.243.166\"\n      }), \",好像是涉及github。\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"使用\", _jsx(_components.code, {\n        children: \"cmd\"\n      }), \"查询了一下该ip,本机github最终解析为该ip \", _jsx(_components.code, {\n        children: \"nslookup 20.205.243.166\"\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/md-images/nslookupgithub.png\",\n        alt: \"nslookup结果\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"cmd\"\n      }), \" ping了一下该ip也不能ping通(然后换dns，114啊，阿里免费dns也不可以,换了代理也不行。其实可能行了，我是用浏览器验验证的，最开始没考虑到浏览器dns缓存)\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"解决办法\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"既然dns服务商解析的ip我们这里不能ping通，那就把github的dns映射固定一个可以ping通的ip,绕过dns服务解析。\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"找一个可以用的ip\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"使用\", _jsx(_components.a, {\n            href: \"https://ping.chinaz.com/\",\n            children: \"多个站点ping\"\n          }), \"工具，查询可用ip\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"修改本机hosts文件\"\n        }), \"\\n\", _jsxs(_components.p, {\n          children: [\"hosts文件位置在\", _jsx(_components.code, {\n            children: \"c盘/windows/system32/driver/etc/hosts\"\n          }), \",在末尾添加对应映射就行了。需要注意的是，保存文件的时候要保存为ansic编码，不要用utf-8。(可以先ansic另存为\", _jsx(_components.code, {\n            children: \"hosts.txt\"\n          }), \",然后再把\", _jsx(_components.code, {\n            children: \".txt\"\n          }), \"后缀去掉就行了).\"]\n        }), \"\\n\", _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-txt:hosts文件内容\",\n            children: \"  # github 这四个常变化 建议不要选美国的ip\\n  20.248.137.48 github.com\\n  20.248.137.55 nodeload.github.com\\n  20.248.137.49 api.github.com\\n  20.248.137.55 codeload.github.com\\n\\n  185.199.108.133 raw.github.com\\n  185.199.108.153 training.github.com\\n  185.199.108.153 assets-cdn.github.com\\n  185.199.108.153 documentcloud.github.com\\n  140.82.114.17 help.github.com\\n\\n  # domain: githubstatus.com\\n  185.199.108.153 githubstatus.com\\n\\n  # domain: fastly.net\\n  151.101.1.194 github.global.ssl.fastly.net\\n\\n  # domain: githubusercontent.com\\n  185.199.108.133 raw.githubusercontent.com\\n  185.199.108.154 pkg-containers.githubusercontent.com\\n  185.199.108.133 cloud.githubusercontent.com\\n  185.199.108.133 gist.githubusercontent.com\\n  185.199.108.133 marketplace-screenshots.githubusercontent.com\\n  185.199.108.133 repository-images.githubusercontent.com\\n  185.199.108.133 user-images.githubusercontent.com\\n  185.199.108.133 desktop.githubusercontent.com\\n  185.199.108.133 avatars.githubusercontent.com\\n  185.199.108.133 avatars0.githubusercontent.com\\n  185.199.108.133 avatars1.githubusercontent.com\\n  185.199.108.133 avatars2.githubusercontent.com\\n  185.199.108.133 avatars3.githubusercontent.com\\n  185.199.108.133 avatars4.githubusercontent.com\\n  185.199.108.133 avatars5.githubusercontent.com\\n  185.199.108.133 avatars6.githubusercontent.com\\n  185.199.108.133 avatars7.githubusercontent.com\\n  185.199.108.133 avatars8.githubusercontent.com\\n\\n\"\n          })\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.p, {\n          children: \"刷新一下本地dns 然后就大功告成了，可以正常访问github了。最后你可能会发现浏览器还是不能访问到github,那是因为浏览器的dns缓存,清理一下或者重新开一个无痕就解决了。\"\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"注意事项\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"这里需要查询到和github相关的域名一并修改其对应ip,不然会出现能访问github，但是不能clone的情况。\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"最开始我只修改了github对应的ip,然后浏览器也确实可以正常访问github了，但是当我clone项目时，连接还是超时并且npm下载依赖时会还是会报错\", _jsx(_components.code, {\n        children: \"20.205.243.166\"\n      }), \"(修改前的ip)连接超时,但是我明明修改了ip,也生效了。所以原因就是clone是另外的域名指向了原来的ip。\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"可能会用到的命令\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ipconfig 查看本机ip信息\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ipconfig/flushdns 刷新dns\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"nslookup github.com 查看dns解析的网址ip\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ipconfig/displaydns  查看本机dns映射缓存\"\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/blog/detail/[id]","query":{"id":"Github访问过慢"},"buildId":"HP81LP17NPlwa6Lp7DH3o","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>