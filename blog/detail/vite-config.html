<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>(*^▽^*)</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/80a95484ea2876e6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/80a95484ea2876e6.css" data-n-g=""/><link rel="preload" href="/_next/static/css/f8f6338530cfd437.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f8f6338530cfd437.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-7477d36a73a3487c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-d15f243f6b85624f.js" defer=""></script><script src="/_next/static/chunks/171-0943d13a71220321.js" defer=""></script><script src="/_next/static/chunks/pages/blog/detail/%5Bid%5D-0499978da9bd8e44.js" defer=""></script><script src="/_next/static/oAQJjcUh83W7uapPVhDCS/_buildManifest.js" defer=""></script><script src="/_next/static/oAQJjcUh83W7uapPVhDCS/_ssgManifest.js" defer=""></script><style id="__jsx-1471609662">.file-name-container.jsx-1471609662{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;width:100%;max-width:100%;background-color:#1d2b35d9;padding:-webkit-calc(.5rem + .2vw);padding:-moz-calc(.5rem + .2vw);padding:calc(.5rem + .2vw);-webkit-border-top-left-radius:5px;-moz-border-radius-topleft:5px;border-top-left-radius:5px;-webkit-border-top-right-radius:5px;-moz-border-radius-topright:5px;border-top-right-radius:5px;margin-top:1vh;white-space:pre-wrap;word-wrap:break-word;overflow-wrap:break-word}.file-name.jsx-1471609662{font-family:"Share Tech Mono",monospace;font-size:-webkit-calc(.9rem + .1vw);font-size:-moz-calc(.9rem + .1vw);font-size:calc(.9rem + .1vw);color:#fffecbf2}</style></head><body><div id="__next"><div class="layout_main-container__jR90l"><main class="layout_main__E22hH"><div style="width:15em"><nav class="sidebar_nav__EFmKd"><div class="Avatar_container__egCID"><div class="Avatar_image-container__9WrGh"><img src="/images/avatar.png" alt="mingjianglong" class="Avatar_avatar__oORu6"/><h2>龙江</h2><h3 style="font-weight:normal;padding-top:.6em;color:grey">Jiang Long</h3><h4 style="padding-top:1.3em">等风也等你~</h4><span class="Avatar_my-face__hbhE_">ღゝ◡╹)ノ♡</span></div><div></div></div><a style="color:black" href="/">开心☺</a><a style="color:black" href="/blog">Blog</a><a style="color:black" href="/archive">归档</a><a style="color:black" href="/resume">简介</a></nav></div><div style="flex:1;height:100vh;display:flex;flex-direction:column;overflow-y:hidden"><div style="height:100%;padding:7em;overflow:scroll"><h1 style="font-family:&#x27;Ubuntu&#x27;, sans-serif;font-size:calc(1rem + 1.5vw);color:#1d2b35;padding:1em 0;overflow-wrap:break-word">Vite打包</h1>
<p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">vite.config.js配置文件选项注释说明</p>
<pre><div class="jsx-1471609662"><div class="jsx-1471609662 file-name-container"><p class="jsx-1471609662 file-name">vite.config.ts</p></div><pre class="language-ts:vite.config.ts" style="color:#1d2b35;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0px;overflow:auto;background:#1e1e1e;background-color:#071013f2;padding-bottom:1em;margin-bottom:1vh;border-bottom-left-radius:5px;border-bottom-right-radius:5px"><code class="language-ts" style="color:#d4d4d4;font-size:calc(0.8rem + 0.1vw);text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#c586c0">import</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token"> defineConfig </span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#c586c0">from</span><span> </span><span class="token" style="color:#ce9178">&quot;vite&quot;</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#c586c0">import</span><span> </span><span class="token">vue</span><span> </span><span class="token" style="color:#c586c0">from</span><span> </span><span class="token" style="color:#ce9178">&quot;@vitejs/plugin-vue&quot;</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#c586c0">import</span><span> </span><span class="token">path</span><span> </span><span class="token" style="color:#c586c0">from</span><span> </span><span class="token" style="color:#ce9178">&quot;path&quot;</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#c586c0">export</span><span> </span><span class="token" style="color:#c586c0">default</span><span> </span><span class="token" style="color:#dcdcaa">defineConfig</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span>
</span>
<span>  </span><span class="token" style="color:#6a9955">//项目根目录</span><span>
</span><span>  root</span><span class="token" style="color:#d4d4d4">:</span><span> process</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">cwd</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">//项目部署的基础路径</span><span>
</span><span>  base</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;/&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">//环境配置 &#x27;development&#x27;|&#x27;production&#x27;</span><span>
</span><span>  mode</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;development&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">//全局常量替换 Record&lt;string, string&gt;</span><span>
</span><span>  define</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token string-property" style="color:#9cdcfe">&quot;&quot;</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    user</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;users&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">//插件</span><span>
</span><span>  plugins</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#dcdcaa">vue</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">//静态资源服务的文件夹</span><span>
</span><span>  publicDir</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;public&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">//存储缓存文件的目录</span><span>
</span><span>  cacheDir</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;node_modules/.vite&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>  resolve</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#6a9955">//别名</span><span>
</span><span>    alias</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>      </span><span class="token string-property" style="color:#9cdcfe">&quot;@&quot;</span><span class="token" style="color:#d4d4d4">:</span><span> path</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">resolve</span><span class="token" style="color:#d4d4d4">(</span><span>__dirname</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;/src&quot;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    dedupe</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//解决程序包中package.json配置中的exports 字段</span><span>
</span><span>    conditions</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>    
<span>    </span><span class="token" style="color:#6a9955">//解析package.json中字段的优先级</span><span>
</span><span>    mainFields</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#ce9178">&quot;module&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;jsnext:main&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;jsnext&quot;</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>    
<span>    </span><span class="token" style="color:#6a9955">//导入时想要省略的扩展名列表</span><span>
</span><span>    extensions</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#ce9178">&quot;.mjs&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;.js&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;.ts&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;.jsx&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;.tsx&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;.json&quot;</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>    
<span>    </span><span class="token" style="color:#6a9955">//使Vite通过原始文件路径而不是真正的文件路径确定文件身份</span><span>
</span><span>    preserveSymlinks</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">false</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  css</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span>    
<span>    </span><span class="token" style="color:#6a9955">//配置 CSS modules 的行为。选项将被传递给 postcss-modules。</span><span>
</span><span>    modules</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>    
<span>    </span><span class="token" style="color:#6a9955">// PostCSS 配置（格式同 postcss.config.js）</span><span>
</span><span>    </span><span class="token" style="color:#6a9955">// postcss-load-config 的插件配置</span><span>
</span><span>    postcss</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>    
<span>    </span><span class="token" style="color:#6a9955">//指定传递给 CSS 预处理器的选项</span><span>
</span><span>    preprocessorOptions</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>      scss</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>        additionalData</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token template-string" style="color:#ce9178">$injectedColor: orange;</span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>    
<span>    </span><span class="token" style="color:#6a9955">//开发过程中是否启sourcemap</span><span>
</span><span>    devSourcemap</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">false</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  json</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span>   
<span>    </span><span class="token" style="color:#6a9955">//是否支持从 .json 文件中进行按名导入</span><span>
</span><span>    namedExports</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>   
<span>    </span><span class="token" style="color:#6a9955">//若设置为 true，导入的 JSON 会被转换为 export default JSON.parse(&quot;...&quot;) 会比转译成对象字面量性能更好，</span><span>
</span><span>    stringify</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">false</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">//继承自 esbuild 转换选项。最常见的用例是自定义 JSX</span><span>
</span><span>  esbuild</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    jsxFactory</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;h&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    jsxFragment</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;Fragment&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    jsxInject</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token template-string" style="color:#ce9178">import React from &#x27;react&#x27;</span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">//静态资源处理  字符串|正则表达式</span><span>
</span><span>  assetsInclude</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#ce9178">&quot;**/*.gltf&quot;</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">//调整控制台输出的级别 &#x27;info&#x27; | &#x27;warn&#x27; | &#x27;error&#x27; | &#x27;silent&#x27;</span><span>
</span><span>  logLevel</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;info&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">//设为 false 可以避免 Vite 清屏而错过在终端中打印某些关键信息</span><span>
</span><span>  clearScreen</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">//加载 .env 文件的目录</span><span>
</span><span>  envDir</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">//envPrefix开头的环境变量会通过import.meta.env暴露客户端源码</span><span>
</span><span>  envPrefix</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;VITE_&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">//设置&#x27;spa&#x27; | &#x27;mpa&#x27; | &#x27;custom&#x27;应用操作</span><span>
</span><span>  appType</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;spa&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">//服务</span><span>
</span><span>  server</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//服务器主机名</span><span>
</span><span>    host</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;localhost&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//端口号</span><span>
</span><span>    port</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;5173&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//设为 true 时若端口已被占用则会直接退出，而不是尝试下一个可用端口</span><span>
</span><span>    strictPort</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//https.createServer()配置项</span><span>
</span><span>    https</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//服务器启动时自动在浏览器中打开应用程序。</span><span>
</span><span>    open</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;/docs/index.html&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//自定义代理规则</span><span>
</span><span>    proxy</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span>  
<span>      </span><span class="token" style="color:#6a9955">// 字符串简写写法</span><span>
</span><span>      </span><span class="token string-property" style="color:#9cdcfe">&quot;/foo&quot;</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;http://localhost:4567&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>      </span><span class="token" style="color:#6a9955">// 选项写法</span><span>
</span><span>      </span><span class="token string-property" style="color:#9cdcfe">&quot;/api&quot;</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>        target</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;http://jsonplaceholder.typicode.com&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        changeOrigin</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        </span><span class="token function-variable" style="color:#dcdcaa">rewrite</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>path</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> path</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">replace</span><span class="token" style="color:#d4d4d4">(</span><span class="token regex-delimiter" style="color:#d16969">/</span><span class="token regex-source language-regex" style="color:#d16969">^\/api</span><span class="token regex-delimiter" style="color:#d16969">/</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;&quot;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>      </span><span class="token" style="color:#6a9955">// 正则表达式写法</span><span>
</span><span>      </span><span class="token string-property" style="color:#9cdcfe">&quot;^/fallback/.*&quot;</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>        target</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;http://jsonplaceholder.typicode.com&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        changeOrigin</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        </span><span class="token function-variable" style="color:#dcdcaa">rewrite</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>path</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> path</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">replace</span><span class="token" style="color:#d4d4d4">(</span><span class="token regex-delimiter" style="color:#d16969">/</span><span class="token regex-source language-regex" style="color:#d16969">^\/fallback</span><span class="token regex-delimiter" style="color:#d16969">/</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;&quot;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>      </span><span class="token" style="color:#6a9955">// 使用 proxy 实例</span><span>
</span><span>      </span><span class="token string-property" style="color:#9cdcfe">&quot;/api&quot;</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>        target</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;http://jsonplaceholder.typicode.com&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        changeOrigin</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        </span><span class="token function-variable" style="color:#dcdcaa">configure</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>proxy</span><span class="token" style="color:#d4d4d4">,</span><span> options</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>          </span><span class="token" style="color:#6a9955">// proxy 是 &#x27;http-proxy&#x27; 的实例</span><span>
</span><span>        </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>      </span><span class="token" style="color:#6a9955">// Proxying websockets or socket.io</span><span>
</span>  
<span>      </span><span class="token string-property" style="color:#9cdcfe">&quot;/socket.io&quot;</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>        target</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;ws://localhost:3000&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        ws</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//开发服务器配置 CORS</span><span>
</span><span>    cors</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//指定服务器响应的 header ,类型OutgoingHttpHeaders</span><span>
</span><span>    header</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//禁用或配置 HMR 连接</span><span>
</span><span>    hmr</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//传递给 chokidar 的文件系统监视器选项</span><span>
</span><span>    watch</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//中间件模式创建 Vite 服务器,&#x27;ssr&#x27; | &#x27;html&#x27;</span><span>
</span><span>    middlewareMode</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;ssr&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//HTTP请求中预留此文件夹，用于代理 Vite 作为子文件夹时使用。</span><span>
</span><span>    base</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    fs</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>      </span><span class="token" style="color:#6a9955">//限制为工作区 root 路径以外的文件的访问</span><span>
</span><span>      strict</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      </span><span class="token" style="color:#6a9955">//限制哪些文件可以通过 /@fs/ 路径提供服务</span><span>
</span><span>      allow</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span>
</span><span>        </span><span class="token" style="color:#6a9955">// 搜索工作区的根目录</span><span>
</span><span>        </span><span class="token" style="color:#dcdcaa">searchForWorkspaceRoot</span><span class="token" style="color:#d4d4d4">(</span><span>process</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">cwd</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        </span><span class="token" style="color:#6a9955">// 自定义规则</span><span>
</span><span>        </span><span class="token" style="color:#ce9178">&quot;/path/to/custom/allow&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>      </span><span class="token" style="color:#6a9955">//限制Vite开发服务器提供敏感文件的黑名单</span><span>
</span><span>      deny</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#ce9178">&quot;.env&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;.env.*&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;*.{pem,crt}&quot;</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//定义开发调试阶段生成资产的url</span><span>
</span><span>    origin</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;http://127.0.0.1:8080&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>  </span><span class="token" style="color:#6a9955">//构建</span><span>
</span><span>  build</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//浏览器兼容性  &quot;esnext&quot;|&quot;modules&quot;</span><span>
</span><span>    target</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;modules&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//否自动注入 module preload 的 polyfill</span><span>
</span><span>    polyfillModulePreload</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//输出路径</span><span>
</span><span>    outDir</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;dist&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//生成静态资源的存放路径</span><span>
</span><span>    assetsDir</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;assets&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//小于此阈值的导入或引用资源将内联为 base64 编码，以避免额外的 http 请求。设置为 0 可以完全禁用此项</span><span>
</span><span>    assetsInlineLimit</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#b5cea8">4096</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//启用/禁用 CSS 代码拆分</span><span>
</span><span>    cssCodeSplit</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//不同的浏览器target设置CSS的压缩</span><span>
</span><span>    cssTarget</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>  
<span>    </span><span class="token" style="color:#6a9955">//构建后是否生成 source map 文件</span><span>
</span><span>    </span><span class="token" style="color:#6a9955">//boolean | &#x27;inline&#x27; | &#x27;hidden&#x27;</span><span>
</span><span>    sourcemap</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">false</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>    
<span>    </span><span class="token" style="color:#6a9955">//自定义底层的 Rollup 打包配置</span><span>
</span><span>    rollupOptions</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span>    
<span>      </span><span class="token" style="color:#6a9955">//要打包的文件路径</span><span>
</span><span>      input</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;src/main.js&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>    
<span>      </span><span class="token" style="color:#6a9955">//文件输出位置</span><span>
</span><span>      output</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span>    
<span>        </span><span class="token" style="color:#6a9955">//打包生产文件路径</span><span>
</span><span>        file</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;dist/index.js&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>    
<span>        </span><span class="token" style="color:#6a9955">//打包输出格式</span><span>
</span><span>        </span><span class="token" style="color:#6a9955">// &quot;amd&quot;, &quot;cjs&quot;, &quot;system&quot;, &quot;es&quot;, &quot;iife&quot; or &quot;umd</span><span>
</span><span>        format</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;cjs&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>        </span><span class="token" style="color:#6a9955">//包的全部变量名称</span><span>
</span><span>        name</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;bundleName&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>        </span><span class="token" style="color:#6a9955">//声明全局变量</span><span>
</span><span>        globals</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>          jquery</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;$&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>      </span><span class="token" style="color:#6a9955">//插件</span><span>
</span><span>      plugins</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>      </span><span class="token" style="color:#6a9955">//不需打包的文件</span><span>
</span><span>      external</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#ce9178">&quot;lodash&quot;</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//@rollup/plugin-commonjs 插件的选项</span><span>
</span><span>    commonjsOptions</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//@rollup/plugin-dynamic-import-vars 选项</span><span>
</span><span>    dynamicImportVarsOptions</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//构建的库</span><span>
</span><span>    lib</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>      entry</span><span class="token" style="color:#d4d4d4">:</span><span> path</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">resolve</span><span class="token" style="color:#d4d4d4">(</span><span>__dirname</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;lib/main.js&quot;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>      </span><span class="token" style="color:#6a9955">//暴露的全局变量</span><span>
</span><span>      name</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;mylib&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>      </span><span class="token" style="color:#6a9955">//&#x27;es&#x27; | &#x27;cjs&#x27; | &#x27;umd&#x27; | &#x27;iife&#x27;</span><span>
</span><span>      formats</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;es&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>      </span><span class="token" style="color:#6a9955">//输出的包文件名</span><span>
</span><span>      fileName</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;my-lib&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//当设置为 true，构建后将会生成 manifest.json 文件</span><span>
</span><span>    manifest</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">false</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//当设置为 true，构建后将会生成SSR的manifest.json 文件</span><span>
</span><span>    ssrManifest</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">false</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//生成面向 SSR 的构建</span><span>
</span><span>    ssr</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;undefined&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//设置为 false 可以禁用最小化混淆，</span><span>
</span><span>    </span><span class="token" style="color:#6a9955">//boolean | &#x27;terser&#x27; | &#x27;esbuild&#x27;</span><span>
</span><span>    minify</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;esbuild&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//传递给 Terser 的更多 minify 选项。</span><span>
</span><span>    terserOptions</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//设置为 false 来禁用将构建后的文件写入磁盘</span><span>
</span><span>    write</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//默认情况下，若 outDir 在 root 目录下，则 Vite 会在构建时清空该目录。</span><span>
</span><span>    emptyOutDir</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//启用/禁用 gzip 压缩大小报告</span><span>
</span><span>    reportCompressedSize</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//触发警告的 chunk 大小（以 kbs 为单位）</span><span>
</span><span>    chunkSizeWarningLimit</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#b5cea8">500</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//设置为 {} 则会启用 rollup 的监听器</span><span>
</span><span>    watch</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token null nil" style="color:#569CD6">null</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>  </span><span class="token" style="color:#6a9955">//开发服务器</span><span>
</span><span>  preview</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//开发服务器主机名</span><span>
</span><span>    host</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;localhost&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//开发服务器端口号</span><span>
</span><span>    port</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;5173&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//设为 true 时若端口已被占用则会直接退出，而不是尝试下一个可用端口</span><span>
</span><span>    strictPort</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//https.createServer()配置项</span><span>
</span><span>    https</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//服务器启动时自动在浏览器中打开应用程序。</span><span>
</span><span>    open</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;/docs/index.html&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//开发服务器，自定义代理规则</span><span>
</span><span>    proxy</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>      </span><span class="token" style="color:#6a9955">// 字符串简写写法</span><span>
</span><span>      </span><span class="token string-property" style="color:#9cdcfe">&quot;/foo&quot;</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;http://localhost:4567&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      </span><span class="token" style="color:#6a9955">// 选项写法</span><span>
</span><span>      </span><span class="token string-property" style="color:#9cdcfe">&quot;/api&quot;</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>        target</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;http://jsonplaceholder.typicode.com&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        changeOrigin</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        </span><span class="token function-variable" style="color:#dcdcaa">rewrite</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>path</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> path</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">replace</span><span class="token" style="color:#d4d4d4">(</span><span class="token regex-delimiter" style="color:#d16969">/</span><span class="token regex-source language-regex" style="color:#d16969">^\/api</span><span class="token regex-delimiter" style="color:#d16969">/</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;&quot;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      </span><span class="token" style="color:#6a9955">// 正则表达式写法</span><span>
</span><span>      </span><span class="token string-property" style="color:#9cdcfe">&quot;^/fallback/.*&quot;</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>        target</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;http://jsonplaceholder.typicode.com&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        changeOrigin</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        </span><span class="token function-variable" style="color:#dcdcaa">rewrite</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>path</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> path</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">replace</span><span class="token" style="color:#d4d4d4">(</span><span class="token regex-delimiter" style="color:#d16969">/</span><span class="token regex-source language-regex" style="color:#d16969">^\/fallback</span><span class="token regex-delimiter" style="color:#d16969">/</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;&quot;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      </span><span class="token" style="color:#6a9955">// 使用 proxy 实例</span><span>
</span><span>      </span><span class="token string-property" style="color:#9cdcfe">&quot;/api&quot;</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>        target</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;http://jsonplaceholder.typicode.com&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        changeOrigin</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        </span><span class="token function-variable" style="color:#dcdcaa">configure</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>proxy</span><span class="token" style="color:#d4d4d4">,</span><span> options</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>          </span><span class="token" style="color:#6a9955">// proxy 是 &#x27;http-proxy&#x27; 的实例</span><span>
</span><span>        </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      </span><span class="token" style="color:#6a9955">// Proxying websockets or socket.io</span><span>
</span><span>      </span><span class="token string-property" style="color:#9cdcfe">&quot;/socket.io&quot;</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>        target</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;ws://localhost:3000&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        ws</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token" style="color:#6a9955">//开发服务器配置 CORS</span><span>
</span><span>    cors</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>  </span><span class="token" style="color:#6a9955">//依赖优化选项</span><span>
</span><span>  optimizeDeps</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//检测需要预构建的依赖项</span><span>
</span><span>    entries</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//预构建中强制排除的依赖项</span><span>
</span><span>    exclude</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#ce9178">&quot;jquery&quot;</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//默认情况下，不在 node_modules 中的，链接的包不会被预构建。使用此选项可强制预构建链接的包。</span><span>
</span><span>    include</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//部署扫描和优化过程中传递给EsBuild</span><span>
</span><span>    esbuildOptions</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//设置为 true 可以强制依赖预构建，而忽略之前已经缓存过的、已经优化过的依赖</span><span>
</span><span>    force</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>  </span><span class="token" style="color:#6a9955">//SSR 选项</span><span>
</span><span>  ssr</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//列出的是要为 SSR 强制外部化的依赖</span><span>
</span><span>    external</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//列出的是防止被 SSR 外部化依赖项。</span><span>
</span><span>    noExternal</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//SSR 服务器的构建目标</span><span>
</span><span>    target</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;node&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//SSR 服务器的构建语法格式 &#x27;esm&#x27; | &#x27;cjs&#x27;</span><span>
</span><span>    format</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;esm&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  worker</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//worker 打包时的输出类型 &#x27;es&#x27; | &#x27;iife&#x27;</span><span>
</span><span>    format</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&quot;iife&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">// worker 打包的 Vite 插件</span><span>
</span><span>    plugins</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">,</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">//打包 worker 的 Rollup 配置项</span><span>
</span><span>    rollupOptions</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></code></pre></div></pre></div></div></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"metaData":{"title":"Vite打包","description":"Vite 打包配置学习","tags":["Vite"],"keywords":["Vite"],"id":"vite-config","create":1682495747004,"lastUpdate":1692954726905},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    pre: \"pre\",\n    code: \"code\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h1, {\n      children: \"Vite打包\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"vite.config.js配置文件选项注释说明\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ts:vite.config.ts\",\n        children: \"import { defineConfig } from \\\"vite\\\";\\nimport vue from \\\"@vitejs/plugin-vue\\\";\\nimport path from \\\"path\\\";\\nexport default defineConfig({\\n\\n  //项目根目录\\n  root: process.cwd(),\\n  \\n  //项目部署的基础路径\\n  base: \\\"/\\\",\\n  \\n  //环境配置 'development'|'production'\\n  mode: \\\"development\\\",\\n  \\n  //全局常量替换 Record\u003cstring, string\u003e\\n  define: {\\n    \\\"\\\": \\\"\\\",\\n    user: \\\"users\\\",\\n  },\\n  \\n  //插件\\n  plugins: [vue()],\\n  \\n  //静态资源服务的文件夹\\n  publicDir: \\\"public\\\",\\n  \\n  //存储缓存文件的目录\\n  cacheDir: \\\"node_modules/.vite\\\",\\n  \\n  resolve: {\\n    //别名\\n    alias: {\\n      \\\"@\\\": path.resolve(__dirname, \\\"/src\\\"),\\n    },\\n    dedupe: [],\\n\\n    //解决程序包中package.json配置中的exports 字段\\n    conditions: [],\\n    \\n    //解析package.json中字段的优先级\\n    mainFields: [\\\"module\\\", \\\"jsnext:main\\\", \\\"jsnext\\\"],\\n    \\n    //导入时想要省略的扩展名列表\\n    extensions: [\\\".mjs\\\", \\\".js\\\", \\\".ts\\\", \\\".jsx\\\", \\\".tsx\\\", \\\".json\\\"],\\n    \\n    //使Vite通过原始文件路径而不是真正的文件路径确定文件身份\\n    preserveSymlinks: false,\\n  },\\n  css: {\\n    \\n    //配置 CSS modules 的行为。选项将被传递给 postcss-modules。\\n    modules: {},\\n    \\n    // PostCSS 配置（格式同 postcss.config.js）\\n    // postcss-load-config 的插件配置\\n    postcss: {},\\n    \\n    //指定传递给 CSS 预处理器的选项\\n    preprocessorOptions: {\\n      scss: {\\n        additionalData: `$injectedColor: orange;`,\\n      },\\n    },\\n    \\n    //开发过程中是否启sourcemap\\n    devSourcemap: false,\\n  },\\n  json: {\\n   \\n    //是否支持从 .json 文件中进行按名导入\\n    namedExports: true,\\n   \\n    //若设置为 true，导入的 JSON 会被转换为 export default JSON.parse(\\\"...\\\") 会比转译成对象字面量性能更好，\\n    stringify: false,\\n  },\\n  \\n  //继承自 esbuild 转换选项。最常见的用例是自定义 JSX\\n  esbuild: {\\n    jsxFactory: \\\"h\\\",\\n    jsxFragment: \\\"Fragment\\\",\\n    jsxInject: `import React from 'react'`,\\n  },\\n  \\n  //静态资源处理  字符串|正则表达式\\n  assetsInclude: [\\\"**/*.gltf\\\"],\\n  \\n  //调整控制台输出的级别 'info' | 'warn' | 'error' | 'silent'\\n  logLevel: \\\"info\\\",\\n  \\n  //设为 false 可以避免 Vite 清屏而错过在终端中打印某些关键信息\\n  clearScreen: true,\\n  \\n  //加载 .env 文件的目录\\n  envDir: \\\"\\\",\\n  \\n  //envPrefix开头的环境变量会通过import.meta.env暴露客户端源码\\n  envPrefix: \\\"VITE_\\\",\\n  \\n  //设置'spa' | 'mpa' | 'custom'应用操作\\n  appType: \\\"spa\\\",\\n  \\n  //服务\\n  server: {\\n  \\n    //服务器主机名\\n    host: \\\"localhost\\\",\\n  \\n    //端口号\\n    port: \\\"5173\\\",\\n  \\n    //设为 true 时若端口已被占用则会直接退出，而不是尝试下一个可用端口\\n    strictPort: true,\\n  \\n    //https.createServer()配置项\\n    https: \\\"\\\",\\n  \\n    //服务器启动时自动在浏览器中打开应用程序。\\n    open: \\\"/docs/index.html\\\",\\n  \\n    //自定义代理规则\\n    proxy: {\\n  \\n      // 字符串简写写法\\n      \\\"/foo\\\": \\\"http://localhost:4567\\\",\\n  \\n      // 选项写法\\n      \\\"/api\\\": {\\n        target: \\\"http://jsonplaceholder.typicode.com\\\",\\n        changeOrigin: true,\\n        rewrite: (path) =\u003e path.replace(/^\\\\/api/, \\\"\\\"),\\n      },\\n  \\n      // 正则表达式写法\\n      \\\"^/fallback/.*\\\": {\\n        target: \\\"http://jsonplaceholder.typicode.com\\\",\\n        changeOrigin: true,\\n        rewrite: (path) =\u003e path.replace(/^\\\\/fallback/, \\\"\\\"),\\n      },\\n  \\n      // 使用 proxy 实例\\n      \\\"/api\\\": {\\n        target: \\\"http://jsonplaceholder.typicode.com\\\",\\n        changeOrigin: true,\\n        configure: (proxy, options) =\u003e {\\n          // proxy 是 'http-proxy' 的实例\\n        },\\n      },\\n  \\n      // Proxying websockets or socket.io\\n  \\n      \\\"/socket.io\\\": {\\n        target: \\\"ws://localhost:3000\\\",\\n        ws: true,\\n      },\\n    },\\n  \\n    //开发服务器配置 CORS\\n    cors: {},\\n  \\n    //指定服务器响应的 header ,类型OutgoingHttpHeaders\\n    header: {},\\n  \\n    //禁用或配置 HMR 连接\\n    hmr: {},\\n  \\n    //传递给 chokidar 的文件系统监视器选项\\n    watch: {},\\n  \\n    //中间件模式创建 Vite 服务器,'ssr' | 'html'\\n    middlewareMode: \\\"ssr\\\",\\n  \\n    //HTTP请求中预留此文件夹，用于代理 Vite 作为子文件夹时使用。\\n    base: \\\"\\\",\\n  \\n    fs: {\\n      //限制为工作区 root 路径以外的文件的访问\\n      strict: true,\\n      //限制哪些文件可以通过 /@fs/ 路径提供服务\\n      allow: [\\n        // 搜索工作区的根目录\\n        searchForWorkspaceRoot(process.cwd()),\\n        // 自定义规则\\n        \\\"/path/to/custom/allow\\\",\\n      ],\\n  \\n      //限制Vite开发服务器提供敏感文件的黑名单\\n      deny: [\\\".env\\\", \\\".env.*\\\", \\\"*.{pem,crt}\\\"],\\n    },\\n  \\n    //定义开发调试阶段生成资产的url\\n    origin: \\\"http://127.0.0.1:8080\\\",\\n  },\\n  \\n  //构建\\n  build: {\\n  \\n    //浏览器兼容性  \\\"esnext\\\"|\\\"modules\\\"\\n    target: \\\"modules\\\",\\n  \\n    //否自动注入 module preload 的 polyfill\\n    polyfillModulePreload: true,\\n  \\n    //输出路径\\n    outDir: \\\"dist\\\",\\n  \\n    //生成静态资源的存放路径\\n    assetsDir: \\\"assets\\\",\\n  \\n    //小于此阈值的导入或引用资源将内联为 base64 编码，以避免额外的 http 请求。设置为 0 可以完全禁用此项\\n    assetsInlineLimit: 4096,\\n  \\n    //启用/禁用 CSS 代码拆分\\n    cssCodeSplit: true,\\n  \\n    //不同的浏览器target设置CSS的压缩\\n    cssTarget: \\\"\\\",\\n  \\n    //构建后是否生成 source map 文件\\n    //boolean | 'inline' | 'hidden'\\n    sourcemap: false,\\n    \\n    //自定义底层的 Rollup 打包配置\\n    rollupOptions: {\\n    \\n      //要打包的文件路径\\n      input: \\\"src/main.js\\\",\\n    \\n      //文件输出位置\\n      output: {\\n    \\n        //打包生产文件路径\\n        file: \\\"dist/index.js\\\",\\n    \\n        //打包输出格式\\n        // \\\"amd\\\", \\\"cjs\\\", \\\"system\\\", \\\"es\\\", \\\"iife\\\" or \\\"umd\\n        format: \\\"cjs\\\",\\n\\n        //包的全部变量名称\\n        name: \\\"bundleName\\\",\\n\\n        //声明全局变量\\n        globals: {\\n          jquery: \\\"$\\\",\\n        },\\n      },\\n\\n      //插件\\n      plugins: [],\\n\\n      //不需打包的文件\\n      external: [\\\"lodash\\\"],\\n    },\\n\\n    //@rollup/plugin-commonjs 插件的选项\\n    commonjsOptions: {},\\n\\n    //@rollup/plugin-dynamic-import-vars 选项\\n    dynamicImportVarsOptions: {},\\n\\n    //构建的库\\n    lib: {\\n      entry: path.resolve(__dirname, \\\"lib/main.js\\\"),\\n\\n      //暴露的全局变量\\n      name: \\\"mylib\\\",\\n\\n      //'es' | 'cjs' | 'umd' | 'iife'\\n      formats: \\\"es\\\",\\n\\n      //输出的包文件名\\n      fileName: \\\"my-lib\\\",\\n    },\\n\\n    //当设置为 true，构建后将会生成 manifest.json 文件\\n    manifest: false,\\n\\n    //当设置为 true，构建后将会生成SSR的manifest.json 文件\\n    ssrManifest: false,\\n\\n    //生成面向 SSR 的构建\\n    ssr: \\\"undefined\\\",\\n\\n    //设置为 false 可以禁用最小化混淆，\\n    //boolean | 'terser' | 'esbuild'\\n    minify: \\\"esbuild\\\",\\n\\n    //传递给 Terser 的更多 minify 选项。\\n    terserOptions: {},\\n\\n    //设置为 false 来禁用将构建后的文件写入磁盘\\n    write: true,\\n\\n    //默认情况下，若 outDir 在 root 目录下，则 Vite 会在构建时清空该目录。\\n    emptyOutDir: true,\\n\\n    //启用/禁用 gzip 压缩大小报告\\n    reportCompressedSize: true,\\n\\n    //触发警告的 chunk 大小（以 kbs 为单位）\\n    chunkSizeWarningLimit: 500,\\n\\n    //设置为 {} 则会启用 rollup 的监听器\\n    watch: null,\\n  },\\n\\n  //开发服务器\\n  preview: {\\n\\n    //开发服务器主机名\\n    host: \\\"localhost\\\",\\n\\n    //开发服务器端口号\\n    port: \\\"5173\\\",\\n\\n    //设为 true 时若端口已被占用则会直接退出，而不是尝试下一个可用端口\\n    strictPort: true,\\n\\n    //https.createServer()配置项\\n    https: \\\"\\\",\\n\\n    //服务器启动时自动在浏览器中打开应用程序。\\n    open: \\\"/docs/index.html\\\",\\n\\n    //开发服务器，自定义代理规则\\n    proxy: {\\n      // 字符串简写写法\\n      \\\"/foo\\\": \\\"http://localhost:4567\\\",\\n      // 选项写法\\n      \\\"/api\\\": {\\n        target: \\\"http://jsonplaceholder.typicode.com\\\",\\n        changeOrigin: true,\\n        rewrite: (path) =\u003e path.replace(/^\\\\/api/, \\\"\\\"),\\n      },\\n      // 正则表达式写法\\n      \\\"^/fallback/.*\\\": {\\n        target: \\\"http://jsonplaceholder.typicode.com\\\",\\n        changeOrigin: true,\\n        rewrite: (path) =\u003e path.replace(/^\\\\/fallback/, \\\"\\\"),\\n      },\\n      // 使用 proxy 实例\\n      \\\"/api\\\": {\\n        target: \\\"http://jsonplaceholder.typicode.com\\\",\\n        changeOrigin: true,\\n        configure: (proxy, options) =\u003e {\\n          // proxy 是 'http-proxy' 的实例\\n        },\\n      },\\n      // Proxying websockets or socket.io\\n      \\\"/socket.io\\\": {\\n        target: \\\"ws://localhost:3000\\\",\\n        ws: true,\\n      },\\n    },\\n    //开发服务器配置 CORS\\n    cors: {},\\n  },\\n\\n  //依赖优化选项\\n  optimizeDeps: {\\n\\n    //检测需要预构建的依赖项\\n    entries: [],\\n\\n    //预构建中强制排除的依赖项\\n    exclude: [\\\"jquery\\\"],\\n\\n    //默认情况下，不在 node_modules 中的，链接的包不会被预构建。使用此选项可强制预构建链接的包。\\n    include: [],\\n\\n    //部署扫描和优化过程中传递给EsBuild\\n    esbuildOptions: {},\\n\\n    //设置为 true 可以强制依赖预构建，而忽略之前已经缓存过的、已经优化过的依赖\\n    force: true,\\n  },\\n\\n  //SSR 选项\\n  ssr: {\\n\\n    //列出的是要为 SSR 强制外部化的依赖\\n    external: [],\\n\\n    //列出的是防止被 SSR 外部化依赖项。\\n    noExternal: [],\\n\\n    //SSR 服务器的构建目标\\n    target: \\\"node\\\",\\n\\n    //SSR 服务器的构建语法格式 'esm' | 'cjs'\\n    format: \\\"esm\\\",\\n  },\\n  worker: {\\n\\n    //worker 打包时的输出类型 'es' | 'iife'\\n    format: \\\"iife\\\",\\n\\n    // worker 打包的 Vite 插件\\n    plugins: [],\\n\\n    //打包 worker 的 Rollup 配置项\\n    rollupOptions: {},\\n  },\\n});\\n\"\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/blog/detail/[id]","query":{"id":"vite-config"},"buildId":"oAQJjcUh83W7uapPVhDCS","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>